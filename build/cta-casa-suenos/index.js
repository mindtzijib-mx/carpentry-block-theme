(()=>{"use strict";const e=window.wp.blocks,a=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.components,s=window.wp.element,t=window.ReactJSXRuntime;(0,e.registerBlockType)("carpentry/cta-casa-suenos",{edit:function({attributes:e,setAttributes:l}){const{backgroundImage:c,backgroundImageAlt:r,mainText:i,buttonText:d,buttonUrl:u,overlayOpacity:p}=e,m=(0,n.useBlockProps)({className:"cta-casa-suenos-block"});return(0,t.jsxs)(s.Fragment,{children:[(0,t.jsxs)(n.InspectorControls,{children:[(0,t.jsxs)(o.PanelBody,{title:(0,a.__)("Configuración de Imagen","carpentry-blocks"),initialOpen:!0,children:[(0,t.jsx)(n.MediaUploadCheck,{children:(0,t.jsx)(n.MediaUpload,{onSelect:e=>{l({backgroundImage:e.url,backgroundImageAlt:e.alt||"Casa de sueños"})},allowedTypes:["image"],value:c,render:({open:e})=>(0,t.jsx)(o.Button,{className:c?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:e,children:c?(0,a.__)("Cambiar imagen","carpentry-blocks"):(0,a.__)("Seleccionar imagen de fondo","carpentry-blocks")})})}),c&&(0,t.jsx)(o.Button,{onClick:()=>{l({backgroundImage:"",backgroundImageAlt:"Casa de sueños"})},isLink:!0,isDestructive:!0,children:(0,a.__)("Eliminar imagen","carpentry-blocks")}),(0,t.jsx)(o.TextControl,{label:(0,a.__)("Texto alternativo de la imagen","carpentry-blocks"),value:r,onChange:e=>l({backgroundImageAlt:e})}),(0,t.jsx)(o.RangeControl,{label:(0,a.__)("Opacidad del overlay","carpentry-blocks"),value:p,onChange:e=>l({overlayOpacity:e}),min:0,max:1,step:.1})]}),(0,t.jsx)(o.PanelBody,{title:(0,a.__)("Configuración del Botón","carpentry-blocks"),initialOpen:!1,children:(0,t.jsx)(o.TextControl,{label:(0,a.__)("URL del botón","carpentry-blocks"),value:u,onChange:e=>l({buttonUrl:e}),placeholder:"/contacto"})})]}),(0,t.jsxs)("div",{...m,children:[(0,t.jsxs)("div",{className:"cta-casa-suenos-content",style:{backgroundImage:c?`url(${c})`:"none","--overlay-opacity":p},children:[(0,t.jsx)("div",{className:"cta-casa-suenos-overlay"}),(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"cta-casa-suenos-inner",children:[(0,t.jsx)(n.RichText,{tagName:"h2",className:"cta-casa-suenos-title",value:i,onChange:e=>l({mainText:e}),placeholder:(0,a.__)("Escribe el mensaje principal...","carpentry-blocks"),allowedFormats:["core/bold","core/italic"]}),(0,t.jsx)("div",{className:"cta-casa-suenos-button-wrapper",children:(0,t.jsx)(n.RichText,{tagName:"span",className:"btn btn-primary cta-casa-suenos-button",value:d,onChange:e=>l({buttonText:e}),placeholder:(0,a.__)("Texto del botón...","carpentry-blocks"),allowedFormats:[]})})]})})]}),!c&&(0,t.jsx)("div",{className:"cta-casa-suenos-placeholder",children:(0,t.jsx)("p",{children:(0,a.__)("Selecciona una imagen de fondo desde el panel lateral","carpentry-blocks")})})]})]})}})})();