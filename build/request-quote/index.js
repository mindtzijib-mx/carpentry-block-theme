(()=>{"use strict";const e=window.wp.blocks,l=window.wp.i18n,s=window.wp.blockEditor,r=window.wp.data,t=window.wp.components,o=window.ReactJSXRuntime;(0,e.registerBlockType)("carpentry/request-quote",{edit:function({attributes:e,setAttributes:a}){const{formTitle:n,namePlaceholder:i,emailPlaceholder:c,phonePlaceholder:d,servicePlaceholder:h,messageePlaceholder:x,privacyText:p,privacyUrl:m,submitButtonText:u,testimonialStars:j,testimonialText:b,testimonialAuthor:v,testimonialDesignation:g,statNumber:_,statLabel:y}=e,C=(0,r.useSelect)(e=>{const{getEntityRecords:l}=e("core");return l("postType","servicios",{per_page:-1,status:"publish",orderby:"title",order:"asc"})},[]),T=(C&&C.map(e=>({value:e.id,label:e.title.rendered})),(0,s.useBlockProps)({className:"request-quote-editor"}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.InspectorControls,{children:[(0,o.jsxs)(t.PanelBody,{title:(0,l.__)("Configuración del Formulario","carpentry-blocks"),initialOpen:!0,children:[(0,o.jsx)(t.TextControl,{label:(0,l.__)("Título del Formulario","carpentry-blocks"),value:n,onChange:e=>a({formTitle:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Placeholder Nombre","carpentry-blocks"),value:i,onChange:e=>a({namePlaceholder:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Placeholder Email","carpentry-blocks"),value:c,onChange:e=>a({emailPlaceholder:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Placeholder Teléfono","carpentry-blocks"),value:d,onChange:e=>a({phonePlaceholder:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Placeholder Servicio","carpentry-blocks"),value:h,onChange:e=>a({servicePlaceholder:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Placeholder Mensaje","carpentry-blocks"),value:x,onChange:e=>a({messageePlaceholder:e})})]}),(0,o.jsxs)(t.PanelBody,{title:(0,l.__)("Política de Privacidad","carpentry-blocks"),initialOpen:!1,children:[(0,o.jsx)(t.TextControl,{label:(0,l.__)("Texto de Privacidad","carpentry-blocks"),value:p,onChange:e=>a({privacyText:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("URL de Política de Privacidad","carpentry-blocks"),value:m,onChange:e=>a({privacyUrl:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Texto del Botón","carpentry-blocks"),value:u,onChange:e=>a({submitButtonText:e})})]}),(0,o.jsxs)(t.PanelBody,{title:(0,l.__)("Configuración del Testimonio","carpentry-blocks"),initialOpen:!1,children:[(0,o.jsx)(t.RangeControl,{label:(0,l.__)("Número de Estrellas","carpentry-blocks"),value:j,onChange:e=>a({testimonialStars:e}),min:1,max:5}),(0,o.jsx)(t.TextareaControl,{label:(0,l.__)("Texto del Testimonio","carpentry-blocks"),value:b,onChange:e=>a({testimonialText:e}),rows:4}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Nombre del Autor","carpentry-blocks"),value:v,onChange:e=>a({testimonialAuthor:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Designación del Autor","carpentry-blocks"),value:g,onChange:e=>a({testimonialDesignation:e})})]}),(0,o.jsxs)(t.PanelBody,{title:(0,l.__)("Estadística","carpentry-blocks"),initialOpen:!1,children:[(0,o.jsx)(t.TextControl,{label:(0,l.__)("Número de la Estadística","carpentry-blocks"),value:_,onChange:e=>a({statNumber:e})}),(0,o.jsx)(t.TextControl,{label:(0,l.__)("Etiqueta de la Estadística","carpentry-blocks"),value:y,onChange:e=>a({statLabel:e})})]})]}),(0,o.jsx)("div",{...T,children:(0,o.jsxs)("div",{className:"request-quote-preview",children:[(0,o.jsx)("h3",{children:"📧 Sección Solicitar Presupuesto"}),(0,o.jsxs)("div",{className:"preview-content",children:[(0,o.jsxs)("div",{className:"form-preview",children:[(0,o.jsx)("h4",{children:"📝 Formulario de Contacto"}),(0,o.jsxs)("div",{className:"form-info",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Título:"})," ",n]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Campos:"})," ",i,", ",c,", ",d]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Servicios disponibles:"})," ",C?(0,o.jsxs)("span",{style:{color:"#28a745"},children:[C.length," servicios cargados dinámicamente"]}):(0,o.jsx)("span",{style:{color:"#ffc107"},children:"Cargando servicios..."})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Mensaje:"})," ",x]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Botón:"})," ",u]})]})]}),(0,o.jsxs)("div",{className:"testimonial-preview",children:[(0,o.jsx)("h4",{children:"⭐ Testimonio"}),(0,o.jsxs)("div",{className:"testimonial-info",children:[(0,o.jsxs)("div",{className:"stars-preview",children:[(0,o.jsx)("strong",{children:"Estrellas:"})," ",(P=j,Array.from({length:5},(e,l)=>(0,o.jsx)("i",{className:"fas fa-star "+(l<P?"active":""),style:{color:l<P?"#ffd700":"#ccc"}},l)))]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Autor:"})," ",v," ",g]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Testimonio:"})," ",b.substring(0,100),"..."]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Estadística:"})," ",_," - ",y]})]})]})]})]})})]});var P}})})();