(()=>{var e={151:()=>{document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".services-grid.slider-mode").forEach(function(e){const t=e.querySelector(".services-slider-container"),o=e.querySelectorAll(".service-card"),n=e.parentElement.querySelector(".nav-prev"),s=e.parentElement.querySelector(".nav-next");if(!t||0===o.length)return;let c=0;const l=o.length;function a(){const e=window.innerWidth;return e<=767?1:e<=991?2:4}function i(){const e=a(),o=100/a(),i=Math.max(0,l-e);c>i&&(c=i);const r=-c*o;t.style.transform=`translateX(${r}%)`,n.disabled=0===c,s.disabled=c>=i,n.style.opacity=0===c?"0.5":"1",s.style.opacity=c>=i?"0.5":"1"}n&&n.addEventListener("click",function(e){e.preventDefault(),c>0&&(c--,i())}),s&&s.addEventListener("click",function(e){e.preventDefault();const t=a(),o=Math.max(0,l-t);c<o&&(c++,i())});let r,d=0,u=0,m=!1;t.addEventListener("touchstart",function(e){d=e.touches[0].clientX,m=!0}),t.addEventListener("touchmove",function(e){m&&(u=e.touches[0].clientX,e.preventDefault())}),t.addEventListener("touchend",function(e){if(!m)return;m=!1;const t=d-u,o=a(),n=Math.max(0,l-o);Math.abs(t)>50&&(t>0&&c<n?(c++,i()):t<0&&c>0&&(c--,i()))}),window.addEventListener("resize",function(){clearTimeout(r),r=setTimeout(function(){const e=a(),t=Math.max(0,l-e);c>t&&(c=t),i()},250)}),i()})})},259:()=>{console.log("Header.js loaded!"),document.addEventListener("DOMContentLoaded",function(){console.log("DOM loaded, initializing header functionality..."),setTimeout(function(){console.log("Delayed initialization started..."),function(){if(console.log("=== Header Initialization ==="),window.headerInitialized)return void console.log("⚠️ Header already initialized, skipping...");console.log("✅ First time header initialization");const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".main-navigation"),o=document.querySelector(".mobile-menu-close");if(console.log("Elements found:",{mobileToggle:e,navigation:t,mobileMenuClose:o}),e&&t){console.log("Adding click event listener to mobile toggle"),e.removeEventListener("click",e._clickHandler);const o=function(o){o.preventDefault(),o.stopPropagation(),console.log("Mobile toggle clicked!"),console.log("Event object:",o),console.log("Before toggle - Navigation classes:",t.className),console.log("Before toggle - Toggle classes:",e.className);const n=t.classList.contains("active");console.log("Current state - isActive:",n),t.classList.toggle("active"),e.classList.toggle("active"),document.body.classList.toggle("menu-open"),console.log("After toggle - Navigation classes:",t.className),console.log("After toggle - Toggle classes:",e.className),console.log("Body classes:",document.body.className)};e._clickHandler=o,e.addEventListener("click",o),console.log("Mobile toggle button styled for debugging")}else console.error("Mobile menu elements not found!",{mobileToggle:!!e,navigation:!!t});o&&t&&(console.log("Adding close event listener to mobile menu close button"),o.addEventListener("click",function(){console.log("Mobile menu close button clicked!"),t.classList.remove("active"),e&&e.classList.remove("active"),document.body.classList.remove("menu-open")}));const n=document.querySelector("#search-toggle, .search-icon"),s=document.querySelector("#search-popup-modal"),c=document.querySelector(".mfp-close, .hkangles-mfp-close"),l=document.querySelector(".hendy-searchform-field");console.log("Search elements found:",{searchToggle:!!n,searchModal:!!s,searchClose:!!c,searchField:!!l}),n&&s&&n.addEventListener("click",function(e){e.preventDefault(),console.log("Search toggle clicked!"),s.classList.add("show"),s.classList.add("mfp-ready"),s.style.display="flex",console.log("Search modal should now be visible"),console.log("Modal classes:",s.className),console.log("Modal style.display:",s.style.display),l&&setTimeout(()=>{l.focus(),console.log("Search field focused")},100)}),c&&s&&c.addEventListener("click",function(){console.log("Search close clicked!"),s.classList.remove("show"),s.classList.remove("mfp-ready"),s.style.display="none"}),s&&(s.addEventListener("click",function(e){e.target===s&&(console.log("Clicked outside search form, closing..."),s.classList.remove("show"),s.classList.remove("mfp-ready"),s.style.display="none")}),document.addEventListener("keydown",function(e){"Escape"!==e.key||!s.classList.contains("show")&&"flex"!==s.style.display||(console.log("ESC key pressed, closing search modal..."),s.classList.remove("show"),s.classList.remove("mfp-ready"),s.style.display="none")}));let a=0;const i=document.querySelector(".site-header-container, .wp-block-carpentry-header");i&&window.addEventListener("scroll",function(){const e=window.pageYOffset||document.documentElement.scrollTop;e>100?i.classList.add("scrolled"):i.classList.remove("scrolled"),a=e}),document.querySelectorAll(".main-navigation a").forEach(o=>{o.addEventListener("click",function(){window.innerWidth<=991.98&&(t.classList.remove("active"),e.classList.remove("active"),document.body.classList.remove("menu-open"))})}),window.addEventListener("resize",function(){window.innerWidth>991.98&&(t.classList.remove("active"),e.classList.remove("active"),document.body.classList.remove("menu-open"))}),window.headerInitialized=!0,console.log("🎉 Header initialization completed!")}()},100)})},386:()=>{document.addEventListener("DOMContentLoaded",function(){function e(e,t,o){e.innerHTML="<p>"+t+"</p>",e.className="form-messages "+("success"===o?"success":"error"),e.style.display="block",e.scrollIntoView({behavior:"smooth",block:"nearest"}),"success"===o&&setTimeout(()=>{e.style.display="none"},5e3)}document.querySelectorAll(".quote-form, .contact-form").forEach(function(t){t.addEventListener("submit",function(o){o.preventDefault();const n=t.querySelector('button[type="submit"]'),s=t.querySelector(".form-messages"),c=n.textContent;n.disabled=!0,n.textContent="Enviando...",s.style.display="none",s.className="form-messages";const l=new FormData(t);l.append("action","carpentry_contact_form"),fetch(carpentryBlocks.ajaxUrl,{method:"POST",body:l}).then(e=>e.json()).then(o=>{o.success?(e(s,o.data,"success"),t.reset()):e(s,o.data,"error")}).catch(t=>{console.error("Error:",t),e(s,"Error al enviar el mensaje. Por favor, inténtalo de nuevo.","error")}).finally(()=>{n.disabled=!1,n.textContent=c})})}),document.querySelectorAll(".quote-form input, .quote-form textarea, .quote-form select, .contact-form input, .contact-form textarea, .contact-form select").forEach(function(e){e.addEventListener("blur",function(){!function(e){const t=e.value.trim();let o=!0;e.hasAttribute("required")&&!t&&(o=!1),"email"===e.type&&t&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(o=!1)),"tel"===e.type&&t&&(/^[6-9]\d{8}$|^[89]\d{8}$/.test(t.replace(/\s/g,""))||/^[+]?[0-9\s\-()]{9,}$/.test(t)||(o=!1)),o?(e.classList.remove("error"),e.classList.add("valid")):(e.classList.remove("valid"),e.classList.add("error"))}(e)}),e.addEventListener("input",function(){e.classList.contains("error")&&e.classList.remove("error")})})})},617:()=>{document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("back-to-top");e&&(window.addEventListener("scroll",function(){window.pageYOffset>300?e.classList.add("show"):e.classList.remove("show")}),e.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}));const t=document.querySelectorAll(".footer-widget");if(t.length>0){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1});t.forEach(t=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",e.observe(t)})}})}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,o),c.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";o(259),o(617),o(151),o(386),document.addEventListener("DOMContentLoaded",function(){console.log("Carpentry Block Theme assets loaded")})})()})();