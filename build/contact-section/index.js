(()=>{"use strict";const e=window.wp.blocks,a=window.wp.i18n,l=window.wp.blockEditor,s=window.wp.data,o=window.wp.components,n=window.wp.element,c=window.ReactJSXRuntime;(0,e.registerBlockType)("carpentry/contact-section",{edit:function({attributes:e,setAttributes:i}){const{formTitle:r,addressTitle:t,addressText:d,phoneTitle:m,phoneText:p,phoneLink:h,emailTitle:x,emailText:g,emailLink:j,showSocialMedia:b,instagramUrl:f,linkedinUrl:N}=e,u=(0,s.useSelect)(e=>{const{getEntityRecords:a}=e("core");return a("postType","servicios",{per_page:-1,status:"publish",orderby:"title",order:"asc"})},[]),v=(0,s.useSelect)(e=>{const{getEntityRecord:a}=e("core"),l=a("root","site");return{globalAddress:l?.carpentry_company_address||"Calle Teléfrico de las Canteras 4, bajo A, 28052 Madrid",globalEmail:l?.carpentry_company_email||"info@reformasservilucas.com",globalPhone:l?.carpentry_company_phone||"910 05 37 00",globalPhoneLink:l?.carpentry_company_phone_link||"910053700"}},[]),y=!d||d===v.globalAddress,k=!g||g===v.globalEmail||g===v.globalEmail.replace("@","<br>@"),T=!p||p===v.globalPhone,_=u?u.map(e=>e.title.rendered):["Carpintería General","Reformas Integrales","Mantenimiento","Acabados","Otro"],C=(0,l.useBlockProps)({className:"contacto-section"});return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(l.InspectorControls,{children:[(0,c.jsxs)(o.PanelBody,{title:(0,a.__)("Configuración de Contacto","carpentry-blocks"),initialOpen:!0,children:[(0,c.jsx)(o.TextControl,{label:(0,a.__)("Enlace del teléfono (solo números)","carpentry-blocks"),value:h,onChange:e=>i({phoneLink:e}),placeholder:v.globalPhoneLink,help:h&&h!==v.globalPhoneLink?(0,c.jsxs)("span",{style:{color:"#6c757d"},children:["Personalizado (deja vacío para usar global:"," ",v.globalPhoneLink,")"]}):(0,c.jsx)("span",{style:{color:"#28a745"},children:"✓ Usando configuración global del Customizer"})}),(0,c.jsx)(o.TextControl,{label:(0,a.__)("Email para enlace","carpentry-blocks"),value:j,onChange:e=>i({emailLink:e}),placeholder:v.globalEmail,help:j&&j!==v.globalEmail?(0,c.jsxs)("span",{style:{color:"#6c757d"},children:["Personalizado (deja vacío para usar global:"," ",v.globalEmail,")"]}):(0,c.jsx)("span",{style:{color:"#28a745"},children:"✓ Usando configuración global del Customizer"})})]}),(0,c.jsxs)(o.PanelBody,{title:(0,a.__)("Redes Sociales","carpentry-blocks"),initialOpen:!1,children:[(0,c.jsx)(o.ToggleControl,{label:(0,a.__)("Mostrar redes sociales","carpentry-blocks"),checked:b,onChange:e=>i({showSocialMedia:e})}),b&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.TextControl,{label:(0,a.__)("URL de Instagram","carpentry-blocks"),value:f,onChange:e=>i({instagramUrl:e}),placeholder:"https://instagram.com/..."}),(0,c.jsx)(o.TextControl,{label:(0,a.__)("URL de LinkedIn","carpentry-blocks"),value:N,onChange:e=>i({linkedinUrl:e}),placeholder:"https://linkedin.com/..."})]})]})]}),(0,c.jsx)("section",{...C,children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"contact-unified-wrapper",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-lg-7",children:(0,c.jsxs)("div",{className:"contact-form-wrapper",children:[(0,c.jsx)(l.RichText,{tagName:"h2",className:"contact-form-title",value:r,onChange:e=>i({formTitle:e}),placeholder:(0,a.__)("Contacta con nosotros","carpentry-blocks")}),(0,c.jsxs)("div",{className:"contact-form",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre *",disabled:!0})})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("input",{type:"email",className:"form-control",placeholder:"Email *",disabled:!0})})})]}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("input",{type:"tel",className:"form-control",placeholder:"Teléfono *",disabled:!0})})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)("select",{className:"form-control",disabled:!0,children:[(0,c.jsx)("option",{children:"—Por favor, elige una opción—"}),_.slice(0,3).map((e,a)=>(0,c.jsx)("option",{children:e},a)),u&&u.length>3&&(0,c.jsxs)("option",{children:["... y ",u.length-3," más"]})]}),u?(0,c.jsxs)("small",{style:{color:"#28a745",marginTop:"5px",display:"block"},children:["✓ ",u.length," servicios cargados dinámicamente"]}):(0,c.jsx)("small",{style:{color:"#ffc107",marginTop:"5px",display:"block"},children:"⏳ Cargando servicios..."})]})})]}),(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("textarea",{className:"form-control",rows:"6",placeholder:"Mensaje",disabled:!0})}),(0,c.jsx)("div",{className:"form-group",children:(0,c.jsxs)("div",{className:"privacy-checkbox",children:[(0,c.jsx)("input",{type:"checkbox",disabled:!0}),(0,c.jsx)("label",{children:"He leído y acepto la política de privacidad"})]})}),(0,c.jsx)("button",{type:"button",className:"btn btn-contact-submit",disabled:!0,children:"Enviar"})]})]})}),(0,c.jsx)("div",{className:"col-lg-5",children:(0,c.jsxs)("div",{className:"contact-info-integrated",children:[(0,c.jsxs)("div",{className:"contact-info-item",children:[(0,c.jsx)("div",{className:"contact-info-icon",children:(0,c.jsx)("i",{className:"fas fa-map-marker-alt"})}),(0,c.jsxs)("div",{className:"contact-info-content",children:[(0,c.jsx)(l.RichText,{tagName:"h5",value:t,onChange:e=>i({addressTitle:e}),placeholder:(0,a.__)("Dirección","carpentry-blocks")}),(0,c.jsx)(l.RichText,{tagName:"p",value:d,onChange:e=>i({addressText:e}),placeholder:v.globalAddress}),y&&(0,c.jsx)("small",{style:{color:"#28a745",fontSize:"12px",marginTop:"5px",display:"block"},children:"✓ Usando configuración global del Customizer"})]})]}),(0,c.jsxs)("div",{className:"contact-info-item",children:[(0,c.jsx)("div",{className:"contact-info-icon",children:(0,c.jsx)("i",{className:"fas fa-phone"})}),(0,c.jsxs)("div",{className:"contact-info-content",children:[(0,c.jsx)(l.RichText,{tagName:"h5",value:m,onChange:e=>i({phoneTitle:e}),placeholder:(0,a.__)("Teléfono","carpentry-blocks")}),(0,c.jsx)(l.RichText,{tagName:"p",value:p,onChange:e=>i({phoneText:e}),placeholder:v.globalPhone}),T&&(0,c.jsx)("small",{style:{color:"#28a745",fontSize:"12px",marginTop:"5px",display:"block"},children:"✓ Usando configuración global del Customizer"})]})]}),(0,c.jsxs)("div",{className:"contact-info-item",children:[(0,c.jsx)("div",{className:"contact-info-icon",children:(0,c.jsx)("i",{className:"fas fa-envelope"})}),(0,c.jsxs)("div",{className:"contact-info-content",children:[(0,c.jsx)(l.RichText,{tagName:"h5",value:x,onChange:e=>i({emailTitle:e}),placeholder:(0,a.__)("Email","carpentry-blocks")}),(0,c.jsx)(l.RichText,{tagName:"p",value:g,onChange:e=>i({emailText:e}),placeholder:v.globalEmail}),k&&(0,c.jsx)("small",{style:{color:"#28a745",fontSize:"12px",marginTop:"5px",display:"block"},children:"✓ Usando configuración global del Customizer"})]})]}),b&&(0,c.jsxs)("div",{className:"contact-social",children:[(0,c.jsx)("a",{href:"#",className:"social-link",children:(0,c.jsx)("i",{className:"fab fa-instagram"})}),(0,c.jsx)("a",{href:"#",className:"social-link",children:(0,c.jsx)("i",{className:"fab fa-linkedin"})})]})]})})]})})})})]})}})})();