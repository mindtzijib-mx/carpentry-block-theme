(()=>{"use strict";const e=window.wp.blocks,s=window.wp.i18n,r=window.wp.blockEditor,i=window.wp.components,c=window.wp.element,t=window.wp.data,a=window.ReactJSXRuntime,l=JSON.parse('{"apiVersion":3,"name":"carpentry/services-projects","version":"0.1.0","title":"Services & Projects Section","category":"carpentry-blocks","icon":"portfolio","description":"Sección combinada de servicios y proyectos con grid responsive","supports":{"html":false,"align":["wide","full"]},"attributes":{"servicesSubtitle":{"type":"string","default":"NUESTROS SERVICIOS"},"servicesTitle":{"type":"string","default":"Servicios integrales y de la máxima calidad"},"useDynamicServices":{"type":"boolean","default":true},"service1Title":{"type":"string","default":"Mantenimiento"},"service1Description":{"type":"string","default":"Nuestros servicios integrales son clave para garantizar la operatividad continua de los sistemas e infraestructuras esenciales de su empresa."},"service1Icon":{"type":"string","default":"fas fa-tools"},"service2Title":{"type":"string","default":"Reformas"},"service2Description":{"type":"string","default":"Transformamos tu hogar o negocio con reformas completas que incluyen diseño, planificación y ejecución, adaptándonos a tus gustos y necesidades."},"service2Icon":{"type":"string","default":"fas fa-home"},"service3Title":{"type":"string","default":"Tabiquería"},"service3Description":{"type":"string","default":"Realizamos todo tipo de estructuras en pladur garantizando seguridad y eficiencia en cada proyecto."},"service3Icon":{"type":"string","default":"fas fa-hammer"},"service4Title":{"type":"string","default":"Electricidad"},"service4Description":{"type":"string","default":"Desde la actualización de sistemas eléctricos hasta la instalación de iluminación y soluciones de ahorro energético, nos aseguramos de que todo funcione de manera segura y eficiente."},"service4Icon":{"type":"string","default":"fas fa-bolt"},"projectsSubtitle":{"type":"string","default":"ÚLTIMOS PROYECTOS"},"projectsTitle":{"type":"string","default":"Compromiso de calidad en cada uno de nuestros trabajos"},"project1Image":{"type":"string","default":""},"project1Alt":{"type":"string","default":"Proyecto de cocina"},"project2Image":{"type":"string","default":""},"project2Alt":{"type":"string","default":"Proyecto de reforma"},"project3Image":{"type":"string","default":""},"project3Alt":{"type":"string","default":"Proyecto de baño"},"project4Image":{"type":"string","default":""},"project4Alt":{"type":"string","default":"Proyecto exterior"}},"textdomain":"carpentry-blocks","editorScript":"file:./index.js","render":"file:./render.php"}');(0,e.registerBlockType)(l.name,{...l,edit:function({attributes:e,setAttributes:l}){const{servicesSubtitle:o,servicesTitle:n,useDynamicServices:d=!0,service1Title:p,service1Description:v,service1Icon:m,service2Title:h,service2Description:x,service2Icon:j,service3Title:u,service3Description:g,service3Icon:y,service4Title:b,service4Description:_,service4Icon:T,projectsSubtitle:C,projectsTitle:N,project1Image:k,project1Alt:f,project2Image:w,project2Alt:S,project3Image:I,project3Alt:P,project4Image:D,project4Alt:B}=e,R=(0,t.useSelect)(e=>{const{getEntityRecords:s}=e("core");return s("postType","servicios",{per_page:8,status:"publish",orderby:"menu_order",order:"asc"})},[]),A=R?R.map(e=>({title:e.title.rendered,description:e.excerpt.rendered?e.excerpt.rendered.replace(/<[^>]*>/g,"").substring(0,120)+"...":"Descripción del servicio",icon:e.meta?.service_icon||"fas fa-tools",url:e.link})):[],[O,F]=(0,c.useState)(window.innerWidth);(0,c.useEffect)(()=>{const e=()=>F(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const U=(0,r.useBlockProps)({className:"services-projects-editor"});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.InspectorControls,{children:[(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Configuración de Servicios","carpentry-blocks"),initialOpen:!0,children:[(0,a.jsx)(i.TextControl,{label:(0,s.__)("Subtítulo de Servicios","carpentry-blocks"),value:o,onChange:e=>l({servicesSubtitle:e})}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Título de Servicios","carpentry-blocks"),value:n,onChange:e=>l({servicesTitle:e})}),(0,a.jsx)(i.ToggleControl,{label:(0,s.__)("Usar servicios dinámicos","carpentry-blocks"),help:d?(0,s.__)("Los servicios se obtienen del custom post type 'servicios'","carpentry-blocks"):(0,s.__)("Usar servicios estáticos configurables manualmente","carpentry-blocks"),checked:d,onChange:e=>l({useDynamicServices:e})}),d&&0===A.length&&(0,a.jsx)(i.Notice,{status:"warning",isDismissible:!1,children:(0,s.__)("No se encontraron servicios publicados. Se mostrarán servicios estáticos.","carpentry-blocks")}),d&&A.length>0&&(0,a.jsx)(i.Notice,{status:"success",isDismissible:!1,children:(0,s.__)(`Se encontraron ${A.length} servicios dinámicos.`,"carpentry-blocks")})]}),!d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Servicio 1","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(i.TextControl,{label:(0,s.__)("Título","carpentry-blocks"),value:p,onChange:e=>l({service1Title:e})}),(0,a.jsx)(i.TextareaControl,{label:(0,s.__)("Descripción","carpentry-blocks"),value:v,onChange:e=>l({service1Description:e}),rows:3}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Clase del Icono (ej: fas fa-tools)","carpentry-blocks"),value:m,onChange:e=>l({service1Icon:e})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Servicio 2","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(i.TextControl,{label:(0,s.__)("Título","carpentry-blocks"),value:h,onChange:e=>l({service2Title:e})}),(0,a.jsx)(i.TextareaControl,{label:(0,s.__)("Descripción","carpentry-blocks"),value:x,onChange:e=>l({service2Description:e}),rows:3}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Clase del Icono","carpentry-blocks"),value:j,onChange:e=>l({service2Icon:e})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Servicio 3","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(i.TextControl,{label:(0,s.__)("Título","carpentry-blocks"),value:u,onChange:e=>l({service3Title:e})}),(0,a.jsx)(i.TextareaControl,{label:(0,s.__)("Descripción","carpentry-blocks"),value:g,onChange:e=>l({service3Description:e}),rows:3}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Clase del Icono","carpentry-blocks"),value:y,onChange:e=>l({service3Icon:e})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Servicio 4","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(i.TextControl,{label:(0,s.__)("Título","carpentry-blocks"),value:b,onChange:e=>l({service4Title:e})}),(0,a.jsx)(i.TextareaControl,{label:(0,s.__)("Descripción","carpentry-blocks"),value:_,onChange:e=>l({service4Description:e}),rows:3}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Clase del Icono","carpentry-blocks"),value:T,onChange:e=>l({service4Icon:e})})]})]}),(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Configuración de Proyectos","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(i.TextControl,{label:(0,s.__)("Subtítulo de Proyectos","carpentry-blocks"),value:C,onChange:e=>l({projectsSubtitle:e})}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Título de Proyectos","carpentry-blocks"),value:N,onChange:e=>l({projectsTitle:e})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Proyecto 1","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(r.MediaUploadCheck,{children:(0,a.jsx)(r.MediaUpload,{onSelect:e=>l({project1Image:e.url}),allowedTypes:["image"],value:k,render:({open:e})=>(0,a.jsx)("div",{children:k?(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:k,alt:"",style:{maxWidth:"100%",height:"auto"}}),(0,a.jsx)(i.Button,{onClick:e,isSecondary:!0,style:{marginTop:"10px"},children:(0,s.__)("Cambiar Imagen","carpentry-blocks")})]}):(0,a.jsx)(i.Button,{onClick:e,isPrimary:!0,children:(0,s.__)("Seleccionar Imagen","carpentry-blocks")})})})}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Texto Alternativo","carpentry-blocks"),value:f,onChange:e=>l({project1Alt:e})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Proyecto 2","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(r.MediaUploadCheck,{children:(0,a.jsx)(r.MediaUpload,{onSelect:e=>l({project2Image:e.url}),allowedTypes:["image"],value:w,render:({open:e})=>(0,a.jsx)("div",{children:w?(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:w,alt:"",style:{maxWidth:"100%",height:"auto"}}),(0,a.jsx)(i.Button,{onClick:e,isSecondary:!0,style:{marginTop:"10px"},children:(0,s.__)("Cambiar Imagen","carpentry-blocks")})]}):(0,a.jsx)(i.Button,{onClick:e,isPrimary:!0,children:(0,s.__)("Seleccionar Imagen","carpentry-blocks")})})})}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Texto Alternativo","carpentry-blocks"),value:S,onChange:e=>l({project2Alt:e})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Proyecto 3","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(r.MediaUploadCheck,{children:(0,a.jsx)(r.MediaUpload,{onSelect:e=>l({project3Image:e.url}),allowedTypes:["image"],value:I,render:({open:e})=>(0,a.jsx)("div",{children:I?(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:I,alt:"",style:{maxWidth:"100%",height:"auto"}}),(0,a.jsx)(i.Button,{onClick:e,isSecondary:!0,style:{marginTop:"10px"},children:(0,s.__)("Cambiar Imagen","carpentry-blocks")})]}):(0,a.jsx)(i.Button,{onClick:e,isPrimary:!0,children:(0,s.__)("Seleccionar Imagen","carpentry-blocks")})})})}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Texto Alternativo","carpentry-blocks"),value:P,onChange:e=>l({project3Alt:e})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,s.__)("Proyecto 4","carpentry-blocks"),initialOpen:!1,children:[(0,a.jsx)(r.MediaUploadCheck,{children:(0,a.jsx)(r.MediaUpload,{onSelect:e=>l({project4Image:e.url}),allowedTypes:["image"],value:D,render:({open:e})=>(0,a.jsx)("div",{children:D?(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:D,alt:"",style:{maxWidth:"100%",height:"auto"}}),(0,a.jsx)(i.Button,{onClick:e,isSecondary:!0,style:{marginTop:"10px"},children:(0,s.__)("Cambiar Imagen","carpentry-blocks")})]}):(0,a.jsx)(i.Button,{onClick:e,isPrimary:!0,children:(0,s.__)("Seleccionar Imagen","carpentry-blocks")})})})}),(0,a.jsx)(i.TextControl,{label:(0,s.__)("Texto Alternativo","carpentry-blocks"),value:B,onChange:e=>l({project4Alt:e})})]})]}),(0,a.jsx)("div",{...U,children:(0,a.jsxs)("section",{className:"services-projects-section",children:[(0,a.jsx)("div",{className:"services-wrapper",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"services-header text-center",children:[(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"div",className:"section-subtitle",value:o,onChange:e=>l({servicesSubtitle:e}),placeholder:(0,s.__)("Subtítulo de servicios...","carpentry-blocks")}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"h2",className:"section-title",value:n,onChange:e=>l({servicesTitle:e}),placeholder:(0,s.__)("Título de servicios...","carpentry-blocks")}),(0,a.jsxs)("div",{className:"services-navigation",children:[(0,a.jsx)("button",{className:"nav-arrow nav-prev",children:(0,a.jsx)("i",{className:"fas fa-chevron-left"})}),(0,a.jsx)("button",{className:"nav-arrow nav-next",children:(0,a.jsx)("i",{className:"fas fa-chevron-right"})})]})]}),(0,a.jsx)("div",{className:"services-grid "+(d&&A.length>4?"slider-mode":""),children:d&&A.length>0?A.map((e,s)=>(0,a.jsxs)("div",{className:"service-card",children:[(0,a.jsx)("div",{className:"service-icon",children:(0,a.jsx)("i",{className:e.icon})}),(0,a.jsx)("h3",{className:"service-title-home",children:e.title}),(0,a.jsx)("p",{className:"service-description",children:e.description}),(0,a.jsx)("div",{className:"service-arrow",children:(0,a.jsx)("i",{className:"fas fa-arrow-right"})})]},s)):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"service-card",children:[(0,a.jsx)("div",{className:"service-icon",children:(0,a.jsx)("i",{className:m})}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"h3",className:"service-title-home",value:p,onChange:e=>l({service1Title:e}),placeholder:(0,s.__)("Título del servicio...","carpentry-blocks")}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"p",className:"service-description",value:v,onChange:e=>l({service1Description:e}),placeholder:(0,s.__)("Descripción del servicio...","carpentry-blocks")}),(0,a.jsx)("div",{className:"service-arrow",children:(0,a.jsx)("i",{className:"fas fa-arrow-right"})})]}),(0,a.jsxs)("div",{className:"service-card",children:[(0,a.jsx)("div",{className:"service-icon",children:(0,a.jsx)("i",{className:j})}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"h3",className:"service-title-home",value:h,onChange:e=>l({service2Title:e}),placeholder:(0,s.__)("Título del servicio...","carpentry-blocks")}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"p",className:"service-description",value:x,onChange:e=>l({service2Description:e}),placeholder:(0,s.__)("Descripción del servicio...","carpentry-blocks")}),(0,a.jsx)("div",{className:"service-arrow",children:(0,a.jsx)("i",{className:"fas fa-arrow-right"})})]}),(0,a.jsxs)("div",{className:"service-card",children:[(0,a.jsx)("div",{className:"service-icon",children:(0,a.jsx)("i",{className:y})}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"h3",className:"service-title-home",value:u,onChange:e=>l({service3Title:e}),placeholder:(0,s.__)("Título del servicio...","carpentry-blocks")}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"p",className:"service-description",value:g,onChange:e=>l({service3Description:e}),placeholder:(0,s.__)("Descripción del servicio...","carpentry-blocks")}),(0,a.jsx)("div",{className:"service-arrow",children:(0,a.jsx)("i",{className:"fas fa-arrow-right"})})]}),(0,a.jsxs)("div",{className:"service-card",children:[(0,a.jsx)("div",{className:"service-icon",children:(0,a.jsx)("i",{className:T})}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"h3",className:"service-title-home",value:b,onChange:e=>l({service4Title:e}),placeholder:(0,s.__)("Título del servicio...","carpentry-blocks")}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"p",className:"service-description",value:_,onChange:e=>l({service4Description:e}),placeholder:(0,s.__)("Descripción del servicio...","carpentry-blocks")}),(0,a.jsx)("div",{className:"service-arrow",children:(0,a.jsx)("i",{className:"fas fa-arrow-right"})})]})]})})]})}),(0,a.jsx)("div",{className:"projects-wrapper",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"projects-header text-center",children:[(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"div",className:"section-subtitle text-white",value:C,onChange:e=>l({projectsSubtitle:e}),placeholder:(0,s.__)("Subtítulo de proyectos...","carpentry-blocks")}),(0,a.jsx)(r.RichText,{allowedFormats:["core/bold","core/italic"],tagName:"h2",className:"section-title text-white",value:N,onChange:e=>l({projectsTitle:e}),placeholder:(0,s.__)("Título de proyectos...","carpentry-blocks")})]}),(0,a.jsxs)("div",{className:"projects-grid",children:[(0,a.jsx)("div",{className:"project-item",children:(0,a.jsx)("img",{src:k||"/wp-content/themes/carpentry-block-theme/images/Proyecto-nuevo-64-1024x853.jpg",alt:f,className:"img-fluid"})}),(0,a.jsx)("div",{className:"project-item",children:(0,a.jsx)("img",{src:w||"/wp-content/themes/carpentry-block-theme/images/Proyecto-nuevo-65-1024x853.jpg",alt:S,className:"img-fluid"})}),(0,a.jsx)("div",{className:"project-item",children:(0,a.jsx)("img",{src:I||"/wp-content/themes/carpentry-block-theme/images/Proyecto-nuevo-66-1024x853.jpg",alt:P,className:"img-fluid"})}),(0,a.jsx)("div",{className:"project-item",children:(0,a.jsx)("img",{src:D||"/wp-content/themes/carpentry-block-theme/images/Proyecto-nuevo-70-1024x853.jpg",alt:B,className:"img-fluid"})})]})]})})]})})]})},save:()=>null})})();