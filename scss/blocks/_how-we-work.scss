// ===================================================
// How We Work Section Styles
// ===================================================

.how-we-work-section {
  padding: 80px 0;
  background: white;
  position: relative;

  // Encabezado de secci√≥n
  .section-header {
    margin-bottom: 60px;

    .section-subtitle {
      color: $primary-color;
      font-weight: 600;
      font-size: 14px;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-bottom: 15px;
      position: relative;

      &::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 50%;
        transform: translateX(-50%);
        width: 50px;
        height: 2px;
        background: $primary-color;
      }
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: $gray-dark;
      margin-bottom: 0;
      line-height: 1.2;

      @media (max-width: 768px) {
        font-size: 2rem;
      }
    }
  }

  // Wrapper del proceso de trabajo
  .work-process-wrapper {
    .row {
      justify-content: center;
    }
  }

  // Cada paso del proceso
  .process-step {
    text-align: center;
    padding: 30px;
    margin-bottom: 40px;
    position: relative;
    transition: all 0.3s ease;
    border-radius: 15px;

    &:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    // Wrapper del icono del paso
    .step-icon-wrapper {
      position: relative;
      margin-bottom: 30px;
      display: inline-block;

      .step-number {
        position: absolute;
        top: -15px;
        right: -15px;
        background: linear-gradient(
          135deg,
          $primary-color,
          lighten($primary-color, 10%)
        );
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 14px;
        box-shadow: 0 5px 15px rgba($primary-color, 0.3);
        z-index: 2;
      }

      .step-icon {
        width: 80px;
        height: 80px;
        background: #f8f9fa;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        position: relative;
        overflow: hidden;
        border: 3px solid transparent;
        transition: all 0.3s ease;

        &::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(
            135deg,
            $primary-color,
            lighten($primary-color, 10%)
          );
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        i {
          font-size: 32px;
          color: $gray-medium;
          transition: all 0.3s ease;
          position: relative;
          z-index: 2;
        }
      }
    }

    // Contenido del paso
    .step-content {
      .step-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: $gray-dark;
        margin-bottom: 15px;
        line-height: 1.3;

        @media (max-width: 768px) {
          font-size: 1.25rem;
        }
      }

      .step-description {
        font-size: 16px;
        color: $gray-medium;
        line-height: 1.6;
        margin: 0;
        max-width: 280px;
        margin-left: auto;
        margin-right: auto;
      }
    }

    // Hover effects
    &:hover {
      .step-icon-wrapper {
        .step-icon {
          border-color: $primary-color;
          transform: scale(1.1);

          &::before {
            opacity: 1;
          }

          i {
            color: white;
            transform: scale(1.2);
          }
        }

        .step-number {
          transform: scale(1.1);
        }
      }
    }
  }

  // Conectores entre pasos (solo en pantallas grandes)
  @media (min-width: 992px) {
    .process-step {
      &:not(:last-child)::after {
        content: "";
        position: absolute;
        top: 50%;
        right: -40px;
        width: 80px;
        height: 2px;
        background: linear-gradient(90deg, $primary-color, transparent);
        transform: translateY(-50%);
        z-index: 1;
      }

      &:not(:last-child)::before {
        content: "";
        position: absolute;
        top: 50%;
        right: -45px;
        width: 0;
        height: 0;
        border-left: 8px solid $primary-color;
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
        transform: translateY(-50%);
        z-index: 2;
      }
    }
  }

  // Responsive adjustments
  @media (max-width: 991px) {
    padding: 60px 0;

    .section-header {
      margin-bottom: 40px;

      .section-title {
        font-size: 2rem;
      }
    }

    .process-step {
      padding: 20px;
      margin-bottom: 30px;
    }
  }

  @media (max-width: 768px) {
    padding: 50px 0;

    .section-header {
      margin-bottom: 30px;

      .section-title {
        font-size: 1.75rem;
      }
    }

    .process-step {
      padding: 15px;

      .step-icon-wrapper {
        margin-bottom: 20px;

        .step-number {
          width: 35px;
          height: 35px;
          font-size: 12px;
          top: -12px;
          right: -12px;
        }

        .step-icon {
          width: 70px;
          height: 70px;
          border-radius: 15px;

          i {
            font-size: 28px;
          }
        }
      }

      .step-content {
        .step-title {
          font-size: 1.25rem;
          margin-bottom: 12px;
        }

        .step-description {
          font-size: 15px;
        }
      }
    }
  }
}

// Estilos para el editor
.how-we-work-editor {
  .how-we-work-preview {
    border: 2px dashed #ccc;
    padding: 20px;
    border-radius: 8px;
    background: #f9f9f9;

    h3 {
      margin: 0 0 20px;
      color: #333;
      font-size: 1.5rem;
    }

    .preview-content {
      .section-info {
        margin-bottom: 20px;
        padding: 15px;
        background: white;
        border-radius: 5px;
        border-left: 4px solid $primary-color;

        p {
          margin: 5px 0;
          color: #666;
        }
      }

      .steps-preview {
        h4 {
          margin: 0 0 15px;
          color: #333;
          font-size: 1.1rem;
        }

        .steps-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 15px;

          .step-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            text-align: center;

            .step-header {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 10px;
              margin-bottom: 10px;

              .step-number {
                background: $primary-color;
                color: white;
                width: 30px;
                height: 30px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 600;
                font-size: 14px;
              }

              i {
                color: $primary-color;
                font-size: 20px;
              }
            }

            .step-content {
              h5 {
                margin: 0 0 8px;
                color: #333;
                font-size: 1rem;
                font-weight: 600;
              }

              p {
                margin: 0;
                color: #666;
                font-size: 14px;
                line-height: 1.4;
              }
            }
          }
        }
      }
    }
  }
}
